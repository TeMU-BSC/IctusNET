<!-- <router-outlet></router-outlet> -->

<div *ngIf="!text" fxLayout="column" fxLayoutAlign="space-between center" fxLayoutGap="3rem">
  <h1>ICTUSnet web app</h1>

  <!-- <mat-form-field appearance="fill">
    <mat-label>Load a document</mat-label>
    <ngx-mat-file-input #fileInput placeholder="TXT file only" [accept]="'.txt'" multiple autofilled
      (change)="loadFile($event)">
    </ngx-mat-file-input>
    <button mat-icon-button matSuffix *ngIf="!fileInput.empty" (click)="fileInput.clear($event)">
      <mat-icon>clear</mat-icon>
    </button>
    <mat-hint>Accepted extensions: .txt</mat-hint>
  </mat-form-field> -->

  <input hidden type="file" #uploader (change)="loadFile($event)" accept=".txt,.ann" multiple>
  <!-- <button mat-raised-button color="primary" (click)="uploader.click()">Load a real example document (work in progress)</button> -->
  <button mat-raised-button color="primary" (click)="loadRealExample()">Load a real example</button>
</div>

<div *ngIf="text" style="height: 100%;">
  <div fxLayout="row" fxLayoutAlign="space-between start" fxLayoutGap="1rem" style="height: 100%; padding: 2em;">
    <section fxFlex="50%" fxLayout="column" fxLayoutAlign="space-between" fxLayoutGap="1rem">
      <textarea (select)=" selectSpan($event)" readonly>{{ text }}</textarea>
    </section>
    <section id="dynamicForm" fxFlex="50%" fxLayout="column" fxLayoutAlign="space-between" fxLayoutGap="1rem">
      <form [formGroup]="form" (submit)="submit()">
        <formly-form [model]="model" [fields]="fields" [options]="options" [form]="form"></formly-form>
        <button type="submit" mat-raised-button color="primary" [disabled]="!form.valid">Submit</button>
      </form>
    </section>
  </div>
</div>
